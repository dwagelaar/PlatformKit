<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
	<title>PlatformKit Servlet</title>
	<link rel="stylesheet" media="all" type="text/css" href="style.css" />
</head>
<body onload="onPageLoad()">
	<div class="pagebody">
	
	<div class="top">
		<div class="tlc">&nbsp;</div>
		<div class="trc">&nbsp;</div>
	</div>
	
	<div class="greenbox">
	
	<h1 id="pagetitle">PlatformKit Servlet</h1>
	<form name="config" method="post" action="servlet/options" enctype="multipart/form-data" onSubmit="startCounter();">

	</div>	
	<div class="whitebox">

	<h2>Automatic platform description</h2>
	
	<div class="applet"><applet 
		code="be.ac.vub.platformkit.discovery.DiscoveryApplet" 
		archive="pkda.jar" 
		width=200 
		height=60 
		name="pkda" 
		title="PlatformKit Discovery Applet"
		mayscript="mayscript">
		<param name="Color" value="#FFFFFF" />
		Automatic discovery not supported
	</applet></div>
	
	</div>
	<div class="greenbox">

	<div class="floatright">
		<a href="javascript:toggleManual()">
			<img id="toggleManual" src="collapse_tcat.gif">
		</a>
	</div>
	<h2>Manual platform description</h2>
	
	<div id="manual">
		<label for="context">Platform ontology:</label>
		<textarea 
			id="context"
			class="edit"
			name="context"
			title="Specify your OWL platform description here"></textarea>
			
		<div class="headright">
			<div class="floatleft">
				<label for="contextfile">...or platform ontology file:</label>
			</div>
			<input 
				id="contextfile" 
				name="contextfile" 
				type="file" 
				class="fileedit" 
				alt="Specify your OWL platform description here" />
		</div>
	</div>
	
	</div>
	<div class="whitebox">

	<div id="baseurlSection" class="headright">
		<div class="floatleft">
			<label for="baseurl">Base URL: </label>
		</div>
		<input 
			id="baseurl" 
			class="edit" 
			name="baseurl" 
			type="text" 
			alt="Specify your \".platformkit\" file base URL" />
	</div>

	<div id="resultSection" class="headright">
		<div class="floatleft">
			<label for="result">Desired result: </label>
		</div>
		<select id="result" class="edit" name="result">
			<option value="mostspecific">most specific</option>
			<option value="leastspecific">least specific</option>
		</select>
	</div>

	<div id="noValidateSection" class="headright">
		<div class="floatleft">
			<label for="noValidate">Skip validation: </label>
		</div>
		<select id="noValidate" class="edit" name="noValidate">
			<option value="false">no</option>
			<option value="true">yes</option>
		</select>
	</div>

	<div class="headright">
		<div class="floatleft">
			<a href="javascript:serverdetect()">Let the server auto-detect your platform</a>
		</div>
		<input class="counter" name="counter" type="text" value="0" />	
		<input type="submit" class="button" alt="Send your request to the reasoner" value="Submit platform description" />
	</div>
	
	</form>

	</div>
	<div class="greenbox">
	
	<div class="floatright">
		<a href="javascript:toggleExamples()">
			<img id="toggleExamples" src="collapse_tcat.gif">
		</a>
	</div>
	<h2>Example platform descriptions</h2>
		
	<div class="list" id="examples">
		<div class="li"><a href="Generic/JDK1.1PC.owl">Generic PC with JDK 1.1</a></div>
		<div class="li"><a href="Generic/JDK1.2PC.owl">Generic PC with JDK 1.2</a></div>
		<div class="li"><a href="Generic/JDK1.3PC.owl">Generic PC with JDK 1.3</a></div>
		<div class="li"><a href="Generic/JDK1.4PC.owl">Generic PC with JDK 1.4</a></div>
		<div class="li"><a href="Generic/JDK1.5PC.owl">Generic PC with JDK 1.5</a></div>
		<div class="li"><a href="Generic/JDK1.6PC.owl">Generic PC with JDK 1.6</a></div>
		<div class="li"><a href="Generic/PersonalJava1.1PocketPC.owl">Microsoft PocketPC with Personal Java 1.1</a></div>
		<div class="li"><a href="Generic/J2MEPP1.0PocketPC.owl">Microsoft PocketPC with J2ME PP 1.0</a></div>
		<div class="li"><a href="Generic/J2MEPP1.1PocketPC.owl">Microsoft PocketPC with J2ME PP 1.1</a></div>
		<div class="li"><a href="Generic/J2MEMIDP1.0Phone.owl">Mobile phone with J2ME MIDP 1.0</a></div>
		<div class="li"><a href="Generic/J2MEMIDP2.0Phone.owl">Mobile phone with J2ME MIDP 2.0</a></div>
		<div class="li"><a href="Sharp/ZaurusSL-C1000PP.owl">Sharp Zaurus SL-C1000 PDA with J2ME PP</a></div>
		<div class="li"><a href="Sharp/ZaurusSL-C1000Jeode.owl">Sharp Zaurus SL-C1000 PDA with Jeode Personal Java</a></div>
		<div class="li"><a href="Siemens/CX70v.owl">Siemens CX70v mobile phone with MIDP 2.0</a></div>
	</div>

	</div>

	<div class="bottom">
		<div class="blc">&nbsp;</div>
		<div class="brc">&nbsp;</div>
	</div>
	
	</div>
	
	<form name="configautodetect" method="get" action="servlet/options">
		<input type="hidden" name="baseurl" />
		<input type="hidden" name="result" />
		<input type="hidden" name="noValidate" />
	</form>	
	
</body>
<script language="JavaScript">
<!-- //
	function startCounter() {
		document.config.counter.style.display = '';
		setTimeout("doCount(0)", 1000);
	}

	function doCount(count) {
		count++;
		document.config.counter.value = count;
		setTimeout("doCount(" + count + ")", 1000);
	}

	function toggleManual() {
		var t = document.getElementById('toggleManual');
		var e = document.getElementById('manual');
		if (e.style.display == 'none') {
			e.style.display = '';
			t.src = 'collapse_tcat.gif';
		} else {
			e.style.display = 'none';
			t.src = 'collapse_tcat_collapsed.gif';
		}
	}
	
	function setOWL() {
		document.config.context.value = document.applets.pkda.getOWL();
		if (document.config.context.value.indexOf("rdf:RDF") == -1) {
			setTimeout("setOWL()", 100);
		} else {
			toggleManual();
		}		
	}
	
	function toggleExamples() {
		var t = document.getElementById('toggleExamples');
		var e = document.getElementById('examples');
		if (e.style.display == 'none') {
			e.style.display = '';
			t.src = 'collapse_tcat.gif';
		} else {
			e.style.display = 'none';
			t.src = 'collapse_tcat_collapsed.gif';
		}
	}
	
	function serverdetect() {
		document.configautodetect.baseurl.value    = document.config.baseurl.value;
		document.configautodetect.result.value     = document.config.result.value;
		document.configautodetect.noValidate.value = document.config.noValidate.value;
		startCounter();
		document.configautodetect.submit();
	}

	function getURLParam(strParamName){
		var strReturn = "";
		var strHref = window.location.href;
		if ( strHref.indexOf("?") > -1 ) {
			var strQueryString = strHref.substr(strHref.indexOf("?"));
			var aQueryString = strQueryString.split("&");
			for ( var iParam = 0; iParam < aQueryString.length; iParam++ ) {
				if (aQueryString[iParam].indexOf(strParamName.toLowerCase() + "=") > -1 ) {
					var aParam = aQueryString[iParam].split("=");
					strReturn = aParam[1];
					break;
				}
			}
		}
		return unescape(strReturn).replace(/\+/g, " ");
	}
	
	function setFieldsFromURLParams() {
		var pagetitle  = getURLParam("pagetitle");
		var baseurl    = getURLParam("baseurl");
		var result     = getURLParam("result");
		var noValidate = getURLParam("noValidate");
		var hide       = getURLParam("hide");
		if (pagetitle != "") {
			document.getElementById('pagetitle').innerHTML = pagetitle;
		}
		if (baseurl != "") {
			document.config.baseurl.value = baseurl;
			if (hide == "true") {
				document.getElementById('baseurlSection').style.display = 'none';
			}
		} 
		if (result != "") {
			document.config.result.value = result;
			if (hide == "true") {
				document.getElementById('resultSection').style.display = 'none';
			}
		} 
		if (noValidate != "") {
			document.config.noValidate.value = noValidate;
			if (hide == "true") {
				document.getElementById('noValidateSection').style.display = 'none';
			}
		}
	}
	
	function onPageLoad() {
		document.config.counter.style.display = 'none';
		setTimeout("setOWL()", 100);
		toggleExamples();
		setFieldsFromURLParams();
	}
//-->
</script>
</html>