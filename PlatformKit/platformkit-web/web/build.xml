<?xml version="1.0" encoding="UTF-8"?>
<project name="platformkit-web/web" default="all">
	<property name="platformkit.path" value="../../platformkit"/>
	<property name="platformkit-examples.path" value="../../platformkit-examples/codamos_2007_01"/>
	<property name="platformkit-java.path" value="../../platformkit-java"/>
	<property name="platformkit-kb-jena.path" value="../../platformkit-kb-jena"/>
	<property name="platformkit-kb-owlapi.path" value="../../platformkit-kb-owlapi"/>
	<property name="jena.path" value="../../platformkit-jena"/>
	<property name="pellet.path" value="../../platformkit-pellet"/>
	<property name="owlapi.path" value="../../platformkit-owlapi"/>
	<property name="pkda.jar.path" value="../../platformkit-discovery-applet/packaging/pkda.jar"/>
	
	<target name="clean">
        <delete>
        	<fileset dir=".">
	       		<include name="*.war"/>
        	</fileset>
        </delete>
    </target>

    <target name="war" depends="clean">
        <war destfile="platformkitservlet.war" webxml="resources/WEB-INF/web.xml">
        	<fileset dir="resources/" excludes="WEB-INF/*"/>
        	<fileset dir="${platformkit-examples.path}/"/>
        	<fileset file="${pkda.jar.path}"/>
        	<classes dir="../bin"/>
        	<classes dir="${platformkit.path}/bin"/>
        	<classes dir="${platformkit.path}/ontology"/>
        	<classes dir="${platformkit-java.path}/bin"/>
        	<classes dir="${platformkit-java.path}/ontology"/>
        	<classes dir="${platformkit-kb-owlapi.path}/bin"/>
        	<classes dir="${owlapi.path}/bin"/>
        	<lib dir="../lib">
        		<exclude name="*.xml"/>
        		<exclude name="javax.servlet.jar"/>
      		</lib>
        	<lib dir="${pellet.path}/lib" includes="*.jar"/>
        	<lib dir="${pellet.path}/lib/xsdlib" includes="*.jar"/>
       	</war>
    </target>
	
	<target name="all" depends="war"/>
</project>
